<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->

<!-- BEGIN HEAD -->
<head>
    <title>IC卡用户抄表差错</title>
    <base href="../../">
    <script src="../../pages/scripts/basepath.js"></script>

    <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-select/bootstrap-select.min.css">
    <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-datepicker/css/datepicker.css"/>

    <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/select2/select2.css">

    <script src="../../pages/scripts/header.js"></script>
    <meta http-equiv="content-type" content="text/html" charset="utf-8"/>
    <link rel='stylesheet' href='../../assets/global/plugins/jquery-watable/watable.css'/>
    <link rel='stylesheet' href='../../assets/global/plugins/jquery-watable/animate.min.css'/>
    <style type="text/css">
        .modal-footer {
            padding: 20px 30%;
        }
        .modal-footer .btn:first-child {
            float: left;
        }
        .modal-footer .btn:last-child {
            float: right;
        }
    </style>


</head>
<body  class="page-header-fixed page-quick-sidebar-over-content">
<!-- 标题栏开始 -->
<div class="page-header navbar navbar-fixed-top">
    <script>$.include("pages/partial/menu.shtml");</script>
</div>
<!-- 标题栏结束 -->
<div class="clearfix"></div>
<div class="page-container">
    <!-- 左侧菜单开始 -->
    <div class="page-sidebar-wrapper">
        <script>$.include("pages/partial/sidebar.shtml");</script>
    </div>
    <!-- 左侧菜单结束 -->

    <!-- 主内容开始 -->
    <div class="page-content-wrapper">
        <div class="page-content">
           <!-- <script>$.include("pages/partial/themepanel.shtml");</script>-->
            <!--内容头开始-->
            <div class="row">
                <div class="col-md-12">
                    <ul class="page-breadcrumb breadcrumb">
                        <li>
                            <i class="fa  fa-map-marker"></i>
                            <a href="index.html">抄表管理子系统</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <li>

                            <a href="index.html">抄表差错管理</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <li>
                            <a href="javascript:void(0)">IC卡用户抄表差错</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- 内容头结束-->

           <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">

                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span
                                    aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                            <h4 class="modal-title" id="myModalLabel">查询用户</h4>
                        </div>
                        <div class="modal-body">
                            <div class="note note-success container col-md-12" style="padding-bottom:0px">
                                <h5 class="form-section">查询条件设置</h5>
                                <div class="col-md-12" style="padding-bottom:0px">
                                    <div class="col-md-5 form-group">
                                        <div class="btn-group input-group">
                                            <div class="input-group-addon">客户姓名：</div>
                                            <input id="userName" class="inputclear form-control" type="text"
                                                   placeholder="客户姓名">
                                            <span class="inputclear glyphicon glyphicon-remove-circle hide"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-5 form-group">
                                        <div class="btn-group input-group">
                                            <div class="input-group-addon">客户编号：</div>
                                            <input id="userID" class="inputclear form-control" type="text"
                                                   placeholder="客户编号">
                                            <span class="inputclear glyphicon glyphicon-remove-circle hide"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-2 form-group">
                                        <div class="btn-group form-group">
                                            <button id="select_button" class="btn green">
                                                查询&nbsp;
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" style="padding-bottom:0px">
                                    <div class="col-md-5 form-group">
                                        <div class="btn-group input-group">
                                            <div class="input-group-addon active">联系电话：</div>
                                            <input id="userAddress" class="inputclear form-control" type="text"
                                                   placeholder="联系电话">
                                            <span class="inputclear glyphicon glyphicon-remove-circle hide"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-5 form-group">
                                        <div class="btn-group input-group">
                                            <div class="input-group-addon">客户地址：</div>
                                            <input id="telephone_tan" class="inputclear form-control" type="text"
                                                   placeholder="客户地址">
                                            <span class="inputclear glyphicon glyphicon-remove-circle hide"></span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="note note-success container col-md-12" style="padding-bottom:0px">
                                <h5 class="form-section">查询结果</h5>
                                <table class="table table-striped table-bordered table-advance table-hover">
                                    <thead>
                                    <tr class="active">
                                        <th>
                                            <i class="fa fa-briefcase"></i> 客户名称
                                        </th>
                                        <th class="hidden-xs">
                                            <i class="fa fa-bookmark"></i> 客户编号
                                        </th>
                                        <th>
                                            <i class="fa fa-bookmark"></i> 客户地址
                                        </th>
                                        <th>
                                            <i class="fa fa-bookmark"></i> 客户类型
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>
                                            李四
                                        </td>
                                        <td class="hidden-xs">
                                            111003302
                                        </td>
                                        <td>
                                            南岗区嵩山路嵩山小区
                                        </td>
                                        <td>
                                            居民（单纯餐饮）
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            王五
                                        </td>
                                        <td class="hidden-xs">
                                            1114565306
                                        </td>
                                        <td>
                                            道里区井街56号
                                        </td>
                                        <td>
                                            居民（单纯餐饮）
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>

                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary">确定</button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- 查询条件控件 -->
            <div class="container col-sm-12" style="padding-bottom:0px">

                <div class="row"  style="padding: 5px 20px 0px 20px">

                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group input-select2me">
                            <div class="input-group-addon">供气区域：</div>
                            <select class="form-control input-small select2me" data-placeholder="选择供气区域...">
                                <option value=""></option>
                                <option>道里一分公司</option>
                                <option>道里二分公司</option>
                                <option>道里三分公司</option>
                                <option>道里四分公司</option>
                            </select>
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">核算员：</div>
                            <select class="form-control input-small select2me" data-placeholder="选择核算员...">
                                <option value=""></option>
                                <option>张丽</option>
                                <option>王博</option>
                                <option>王亚飞</option>
                                <option>赵嘉怡</option>
                            </select>
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">客户服务员：</div>
                            <select class="form-control input-small select2me" data-placeholder="选择客户服务员...">
                                <option value=""></option>
                                <option>韩雅君</option>
                                <option>张军</option>
                                <option>张艺兴</option>
                                <option>朱嘉怡</option>
                            </select>
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
            <div class="col-sm-12 form-group data-select">
                <div class="btn-group input-group pull-left col-md-5">
                    <div class="input-group-addon">起止日期：</div>
                    <div class="input-group input-large date-picker input-daterange" data-date="10/11/2012" data-date-format="mm/dd/yyyy">
                        <input type="text" class="form-control" name="from">
                        <span class="inputclear glyphicon glyphicon-remove-circle hidden" ></span>
                        <span class="input-group-addon">至</span>
                        <input type="text" class="form-control" name="to">
                        <span class="inputclear glyphicon glyphicon-remove-circle hidden" ></span>
                    </div>
                </div>
                <div class="btn-group form-group data-select">
                    <button id="find_today_sign" class="btn">当日</button>
                </div>
                <div class="btn-group form-group">
                    <button id="find_this_week_sign" class="btn">近一周</button>
                </div>
                <div class="btn-group form-group">
                    <button id="find_this_month_sign" class="btn">近一月</button>
                </div>
                <div class="btn-group form-group">
                    <button id="find_three_month_sign" class="btn">近三月</button>
                </div>
                <div class="btn-group form-group">
                    <button id="find_this_year_sign" class="btn">近一年</button>
                </div>
                <div class="btn-group form-group">
                    <button id="find_anyway_sign" class="btn">不限</button>
                </div>
            </div>


            <div class="col-sm-3 form-group">

                    <button type="button" class="btn yellow" data-toggle="modal" data-target="#myModal">
                        查询 <i class="fa fa-search"></i>
                    </button>


            <button type="button" class="btn blue" id="apply1">
                申请 <i class="fa fa-plus"></i>
            </button>
            <script>
                $('#apply1').click(function(){
                    window.location="meterreading/error/icmeter_error_applyfor.html";
                });
                </script>
                </div>
</div>
                </div>




                                    <div class="container-fluid" style="background-color: #ffffff">
                                        <div id="divtable" class="table-responsive container-fluid col-md-12" >
                                        </div>
                                    </div>

                <!--<div id="divtable" class="table-responsive container-fluid col-md-12" >-->
                <!--</div>-->

            <!-- 内容结束-->

        </div>
        <div class="modal fade" id="apply" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">申请详情</h4>

                    </div>

                    <div class="modal-body">

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>申请单号</label>
                                    <input type="text" class="form-control" placeholder="001234">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>申请时间</label>
                                    <input type="text" class="form-control" placeholder="2016/10/7">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>申请人</label>
                                    <input type="text" class="form-control" placeholder="申请人一">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>申请状态</label>
                                    <input type="text" class="form-control" placeholder="待审批">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>审批位置</label>
                                    <input type="text" class="form-control" placeholder="正在审批中">
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>表读数</label>
                                    <input type="text" class="form-control" placeholder="456">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>表内剩余气量</label>
                                    <input type="text" class="form-control" placeholder="456">
                                </div>
                            </div>


                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>差错原因</label>
                                    <textarea class="form-control" rows="2" placeholder="抄表员疏忽抄错了"></textarea>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>备注</label>
                                    <textarea class="form-control" rows="3"></textarea>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer my-modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" id ="errorApply"class="btn btn-primary" data-dismiss="modal">提交申请</button>
                        <script>
                            $(function () {
                                $('#errorApply').click(function () {
                                    window.location="meterreading/error/meter_error_examine.html";
                                });
                            })
                        </script>

                    </div>
                </div>
            </div>
        </div>
    <!-- 主内容结束 -->
    <script type="text/javascript">$.include("pages/partial/xwatable-form.shtml")</script>

    <!-- 底边栏开始 -->
    <script>$.include("pages/partial/foot.shtml");</script>
    <!-- 底边栏结束 -->
</div>

<script>$.include("pages/partial/scripts.shtml");</script>
<script src="../../assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../../assets/global/plugins/jquery-watable/jquery.watable.js"></script>
    <script type="text/javascript" src="../assets/global/plugins/jquery-watable/jquery.watable2.js"></script>
<script type="text/javascript" src="../../pages/scripts/rqlbuilder.js"></script>
<script type="text/javascript" src="../../pages/scripts/xwatable.js"></script>
    <script type="text/javascript" src="meterreading/skip/xwatable1.js"></script>
<script type="text/javascript" src="../../pages/scripts/refhelper.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/select2/select2.js"></script>

<script type="text/javascript" src="../../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
<script src="../../assets/admin/pages/scripts/components-pickers.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>

<script type="text/javascript"  >
    $(function () {
        $('#daoru').click(function () {
            window.location="meterreading/error/meter_error_detail.html";
        });


    })
    $(function () {
        $('#daoru1').click(function () {
            window.location="meterreading/error/meter_examine_applyfor.html";
        });


    })
    var valueFor=function(val){
    }
    var openButton = function() {
        return {
            f: function() {
                return "<a data-target='#apply' data-toggle='modal'>查看详情&nbsp;<i class='fa fa-plus'></i></a> ";
            }
        }
    }();

    $(function(){
                XWATable.init(
                        {
                            //----------------table的选项-------
                            pageSize: 5, 			//Initial pagesize
                            columnPicker: true,         //Show the columnPicker button
                            sorting: false,
                            transition: 'fade',  //(bounce, fade, flip, rotate, scroll, slide).
                            checkboxes: true,           //Make rows checkable. (Note. You need a column with the 'unique' property)
                            checkAllToggle:true,        //Show the check-all toggle//+RQLBuilder.like("KEYY", "a").rql()
                            rowClicked: function(data) {
                                console.log('row clicked');   //data.event holds the original jQuery event.
                                console.log(data);            //data.row holds the underlying row you supplied.
                            },
                            //----------------基本restful地址---
                            restbase: 'json/meterreading/error/icmeter_error.json',
                            //---------------行定义
                            coldefs: [
                                {
                                    col:"versionID",
                                    friendly: "申请时间",
                                    unique: true,
                                    readonly: "readonly",
                                    sortOrder: "asc",
                                    index:1
                                },
                                {
                                    col:"gasCategory",
                                    friendly: "申请单号",
                                    inputsource:"select",
                                    readonly: "readonly",
                                    ref_url:'json/charging/gasCategory.json',
                                    ref_name:"gasCatname",
                                    ref_value:"gasCatvalue",
                                    format:gasCategoryFormat,
                                    index:2
                                },
                                {
                                    col:"gasType",
                                    friendly: "申请人",
                                    inputsource:"select",
                                    readonly: "readonly",
                                    ref_url: 'json/charging/gasType.json',
                                    ref_name:"name",
                                    ref_value:"value",
                                    format:gasTypeFormat,
                                    index:3

                                },
                                 {
                                 col:"price",
                                 friendly: "客户号",
                                 readonly: "readonly",
                                 index:4
                                 },
                              /*  {
                                 col:"gasEnd1",
                                 friendly: "抄表时间",
                                 readonly: "readonly",
                                 index:5
                                 },*/
                                {
                                    col:"gasEnd",
                                    friendly: "表读数",
                                    readonly: "readonly",
                                    index:5
                                },
                              /*  {
                                    col:"gasStart",
                                    friendly: "修正表读数",
                                    readonly: "readonly",
                                    index:6
                                },*/
                                {
                                    col:"gasStart",
                                    friendly: "表内剩余气量",
                                    readonly: "readonly",
                                    index:6
                                },
                               /* {
                                    col:"gasStart1",
                                    friendly: "系数",
                                    readonly: "readonly",
                                    index:7
                                },*/

                                {
                                    col:"changeTime",
                                    friendly: "审批位置",
                                    inputsource:"datepicker",
                                    readonly: "readonly",
                                    index:8
                                },
                                {
                                    col:"effectTime",
                                    friendly: "是否作废",
                                    inputsource:"datepicker",
                                    readonly: "readonly",
                                    index:9
                                },
                                {
                                    col:"changePerson1",
                                    friendly: "申请状态",
                                    readonly: "readonly",
                                    index:10
                                },
                                {
                                    col:"changePerson",
                                    friendly: "申请备注",
                                    readonly: "readonly",
                                    hidden:true,
                                    index:11
                                },
                                {
                                    col:"UUID",
                                    friendly:"操作",
                                    nonedit: "nosend",
                                    format:openButton,
                                    index:12
                                }

                            ],
                            //---------------查询时过滤条件
                            findFilter: function(){//find function
                                var filter = "keyy="+$('#find_key').val();
                                return filter;
                            }//--findFilter
                        }//--init
                );//--end init




                $('#find_provincename').on('input',function(e){
                    console.log("changing::"+e.target.value)
                    if(!e.target.value){
                        XWATable.autoResetSearch();
                    }
                });


            }
    );

    var gasTypeHelper = RefHelper.create({
        ref_url: 'json/charging/gasType.json',
        ref_col:"value",
        ref_display:"name",
    });

    var gasTypeFormat = function () {
        return {
            f : function (val) {
                console.log("gasTypeFormat:" + val + ":" + gasTypeHelper.getDisplay(val));

                return gasTypeHelper.getDisplay(val);
            },
        }
    }();

    var gasCategoryHelper = RefHelper.create({
        ref_url: 'json/charging/gasCategory.json',
        ref_col:"gasCatvalue",
        ref_display:"gasCatname",
    });

    var gasCategoryFormat = function () {
        return {
            f : function (val) {
//                console.log("gasCategoryFormat:" + val + ":" + gasCategoryHelper.getDisplay(val));

                return gasCategoryHelper.getDisplay(val);
            },
        }
    }();
</script>


<script>
    jQuery(document).ready(function() {
        ComponentsPickers.init();

    });

</script>

</body>
</html>