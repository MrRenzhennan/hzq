<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->

<!-- BEGIN HEAD -->
<head>
    <title>日抄计划</title>
    <base href="../../">
    <script src="../pages/scripts/basepath.js"></script>

    <link rel="stylesheet" type="text/css" href="../assets/global/plugins/bootstrap-select/bootstrap-select.min.css">
    <link rel="stylesheet" type="text/css" href="../assets/global/plugins/bootstrap-datepicker/css/datepicker.css"/>

    <link rel="stylesheet" type="text/css" href="../assets/global/plugins/select2/select2.css">

    <script src="../pages/scripts/header.js"></script>
    <meta http-equiv="content-type" content="text/html" charset="utf-8"/>
    <link rel='stylesheet' href='../assets/global/plugins/jquery-watable/watable.css'/>
    <link rel='stylesheet' href='../assets/global/plugins/jquery-watable/animate.min.css'/>
    <link rel="stylesheet" type="text/css" href="../assets/global/plugins/jstree/dist/themes/default/style.min.css"/>



</head>
<body  class="page-header-fixed page-quick-sidebar-over-content">
<!-- 标题栏开始 -->
<div class="page-header navbar navbar-fixed-top">
    <script>$.include("pages/partial/menu.shtml");</script>
</div>
<!-- 标题栏结束 -->
<div class="clearfix"></div>
<div class="page-container">
    <!-- 左侧菜单开始 -->
    <div class="page-sidebar-wrapper">
        <script>$.include("pages/partial/sidebar.shtml");</script>
    </div>
    <!-- 左侧菜单结束 -->

    <!-- 主内容开始 -->
    <div class="page-content-wrapper">
        <div class="page-content">
           <!-- <script>$.include("pages/partial/themepanel.shtml");</script>-->
            <!--内容头开始-->
            <div class="row">
                <div class="col-md-12">
                    <ul class="page-breadcrumb breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="index.html">抄表管理子系统</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <li>
                            <a href="javascript:void(0)">日抄计划</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- 内容头结束-->

            <div class="row">




                <div class="col-sm-10 form-group">
                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">供气区域：</div>
                            <input class="inputclear form-control" type="text" placeholder="供气区域">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>

                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">核算员：</div>
                            <input class="inputclear form-control" type="text" placeholder="核算员">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">抄表员：</div>
                            <input class="inputclear form-control" type="text" placeholder="抄表员">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">月份：</div>
                            <input class="inputclear form-control" type="month" placeholder="抄表员">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">年份：</div>
                            <input class="inputclear form-control" type="date" placeholder="抄表员">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <!--<div class="col-sm-4 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">日期：</div>
                            <input class="inputclear form-control" type="date" placeholder="抄表员">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>-->
                </div>

</div>
            <div class="row">
                    <div class="btn-group input-group pull-left col-md-4">
                        <div class="input-group-addon">上月用气量：</div>
                        <div class="input-group input-large  input-daterange" >
                            <input type="text" class="form-control" name="from">
                            <span class="inputclear glyphicon glyphicon-remove-circle hidden" ></span>
                            <span class="input-group-addon">至</span>
                            <input type="text" class="form-control" name="to">
                            <span class="inputclear glyphicon glyphicon-remove-circle hidden" ></span>
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <div class="btn-group input-group">
                            <div class="input-group-addon">总户数：</div>
                            <input class="inputclear form-control" type="text" placeholder="">
                            <span class="inputclear glyphicon glyphicon-remove-circle hide" ></span>
                        </div>
                    </div>
                    <!-- 内容开始-->
                    <div class="btn-group form-group">
                        <button id="button" class="btn yellow">
                            查询&nbsp;
                            <i class="fa fa-serach"></i>
                        </button>
                    </div>
                </div>


                    <div class="container-fluid">

                        <div id="divtable" class="table-responsive container-fluid col-md-12" >
                        </div>
                    </div>
            <div class="row">
                <div class="col-sm-1 form-group">
            <div class="btn-group form-group">
                <button id="button" class="btn green">
                    保存&nbsp;
                    <i class="fa fa-serach"></i>
                </button>
            </div>
                 </div>
                <div class="col-sm-1 form-group">
                    <div class="btn-group form-group">
                        <button id="button" class="btn blue">
                            提交&nbsp;
                            <i class="fa fa-serach"></i>
                        </button>
                    </div>
                </div>
                <div class="col-sm-1 form-group">
                    <div class="btn-group form-group">
                        <button id="button" class="btn red">
                            取消&nbsp;
                            <i class="fa fa-serach"></i>
                        </button>
                    </div>
                </div>
                <div class="col-sm-1 form-group">
                    <div class="btn-group form-group">
                        <button id="button" class="btn btn-info">
                            打印&nbsp;
                            <i class="fa fa-serach"></i>
                        </button>
                    </div>
                </div>
</div>
</div>

                </div>
                    <!-- 内容结束-->


            </div>
        </div>
            <!-- 内容开始-->

            <!-- 内容结束-->

        </div>
    </div>
    <!-- 主内容结束 -->
    <script type="text/javascript">$.include("pages/partial/xwatable-form.shtml")</script>

    <!-- 底边栏开始 -->
    <script>$.include("pages/partial/foot.shtml");</script>
    <!-- 底边栏结束 -->
</div>

<script>$.include("pages/partial/scripts.shtml");</script>
<script src="../assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../assets/global/plugins/jquery-watable/jquery.watable.js"></script>
<script type="text/javascript" src="../pages/scripts/rqlbuilder.js"></script>
<script type="text/javascript" src="../pages/scripts/xwatable.js"></script>
<script type="text/javascript" src="../pages/scripts/refhelper.js"></script>
<script type="text/javascript" src="../assets/global/plugins/select2/select2.js"></script>

<script type="text/javascript" src="../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
<script src="../assets/admin/pages/scripts/components-pickers.js"></script>
<script type="text/javascript" src="../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="../assets/global/plugins/jstree/dist/jstree.min.js"></script>
<script src="../assets/admin/pages/scripts/ui-tree.js"></script>

<script type="text/javascript"  >


    $(function(){
            XWATable.init(
                {
                    //----------------table的选项-------
                    pageSize: 20, 			//Initial pagesize
                    columnPicker: true,         //Show the columnPicker button
                    sorting: false,
                    transition: 'fade',  //(bounce, fade, flip, rotate, scroll, slide).
                    checkboxes: true,           //Make rows checkable. (Note. You need a column with the 'unique' property)
                    checkAllToggle:true,        //Show the check-all toggle//+RQLBuilder.like("KEYY", "a").rql()
                    rowClicked: function(data) {
                        console.log('row clicked');   //data.event holds the original jQuery event.
                        console.log(data);            //data.row holds the underlying row you supplied.
                    },
                    //----------------基本restful地址---
                    restbase: 'json/meterreading/project/meter9.json',
                    //---------------行定义
                    coldefs: [
                        {
                            col:"gasType",
                            friendly: "供气区域",

                            inputsource:"select",
                            ref_url:'json/meterreading/build/select1.json',
                            ref_name:"staffauditor",
                            ref_value:"value",
                            format:gasTypeFormat,
                            index:1

                        },
                        {
                            col:"price",
                            friendly: "核算员",
                            inputsource:"datepicker",
                            index:2
                        },
                        {
                            col:"effectTime2",
                            friendly: "抄表员",
                            inputsource:"select",
                            ref_url:'json/meterreading/build/select.json',
                            ref_name:"staffauditor",
                            ref_value:"value",

                            nonedit: "nosend",
                            index:3
                        },
                          {
                         col:"effectTime5",
                         friendly: "年度",
                         inputsource:"select",
                         ref_url:'json/meterreading/build/select4.json',
                         ref_name:"staffauditor",
                         ref_value:"value",
                         index:4
                         },
                        {
                            col:"effectTime15",
                            friendly: "月度",
                            inputsource:"select",
                            ref_url:'json/meterreading/build/select4.json',
                            ref_name:"staffauditor",
                            ref_value:"value",
                            index:5
                        },
                        {
                            col:"gasEnd",
                            friendly: "客户号",
                            nonedit: "nosend",
                            index:5
                        },
                        {
                            col:"gasEnd1",
                            friendly: "客户名称",
                            nonedit: "nosend",
                            index:6
                        },
                         {
                         col:"versionID",
                         friendly: "上次表读数",
                         unique: true,
                         readonly: "readonly",
                         sortOrder: "asc",

                         index:7

                         },
                        /*  {
                         col:"effectTime5",

                         friendly: "上月实抄户数",
                         inputsource:"select",
                         ref_url:'json/meterreading/build/select4.json',
                         ref_name:"staffauditor",
                         ref_value:"value",
                         index:8
                         },*/
                        {
                            col:"gasCategory",
                            friendly: "上月用气量",
                            readonly: "readonly",

                            nonedit: "nosend",
                            format:gasCategoryFormat,
                            index:9
                        },



                        {
                            col:"effectTime",
                            friendly: "抄表周期",
                            inputsource:"select",
                            ref_url:'json/meterreading/build/select3.json',
                            ref_name:"staffauditor",
                            ref_value:"value",
                            index:10
                        },
                       /* {
                            col:"gasEnd2",
                            friendly: "抄表例日",
                            inputsource:"select",
                            ref_url:'json/meterreading/build/select6.json',
                            ref_name:"staffauditor",
                            ref_value:"value",
                            index:11
                        },
*/




                        {
                            col:"effectTime6",
                            inputsource:"datepicker",
                            friendly: "计划创建时间",

                            index:12
                        },
                       /* {
                            col:"effectTime7",

                            friendly: "审批状态",
                            inputsource:"select",
                            ref_url:'json/meterreading/build/select7.json',
                            ref_name:"staffauditor",
                            ref_value:"value",
                            hidden:true,
                            index:13
                        },*/
                        {
                            col:"effectTime10",
                            friendly:"操作",
                            nonedit: "nosend",
                            format:openButton,
                            index:14


                        }



                    ],
                    //---------------查询时过滤条件
                    findFilter: function(){//find function
                        var filter = "keyy="+$('#find_key').val();
                        return filter;
                    }//--findFilter
                }//--init
            );//--end init




            $('#find_provincename').on('input',function(e){
                console.log("changing::"+e.target.value)
                if(!e.target.value){
                    XWATable.autoResetSearch();
                }
            });


        }
    );


    var gasTypeHelper = RefHelper.create({
        ref_url: 'json/charging/gasType.json',
        ref_col:"value",
        ref_display:"name",
    });

    var gasTypeFormat = function () {
        return {
            f : function (val) {
                console.log("gasTypeFormat:" + val + ":" + gasTypeHelper.getDisplay(val));

                return gasTypeHelper.getDisplay(val);
            },
        }
    }();

    var gasCategoryHelper = RefHelper.create({
        ref_url: 'json/charging/gasCategory.json',
        ref_col:"gasCatvalue",
        ref_display:"gasCatname",
    });

    var gasCategoryFormat = function () {
        return {
            f : function (val) {
//                console.log("gasCategoryFormat:" + val + ":" + gasCategoryHelper.getDisplay(val));

                return gasCategoryHelper.getDisplay(val);
            },
        }
    }();
</script>


<script>
    jQuery(document).ready(function() {
        ComponentsPickers.init();
        UITree.init();

    });

</script>

</body>
</html>